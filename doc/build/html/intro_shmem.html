

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; Cray OpenSHMEMX 10.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tuning Parameters" href="tuning_parameters.html" />
    <link rel="prev" title="Cray OpenSHMEMX" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Cray OpenSHMEMX
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="#openshmem-compliance">OpenSHMEM Compliance</a></li>
<li class="toctree-l1"><a class="reference internal" href="#supported-platforms">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="#using-cray-openshmemx">Using Cray OpenSHMEMX</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiling-and-launching-a-shmem-application-on-a-cray-system">Compiling and Launching a SHMEM Application on a Cray System</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support-for-static-and-dynamic-linking">Support for Static and Dynamic linking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#caveats-for-using-cray-openshmemx-on-cray-xc-systems">Caveats for Using Cray OpenSHMEMX on Cray XC systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#general-notes">General Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#openshmem-c11-generic-interfaces">OpenSHMEM C11-Generic Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zero-length-data-transfer">Zero-length Data Transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-memory-in-cray-openshmemx">Managing Memory in Cray OpenSHMEMX</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interconnect-specific-informations">Interconnect Specific Informations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-thread-hot-and-openshmem-contexts">Cray Thread-hot and OpenSHMEM Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-locality-awareness">Cray OpenSHMEMX Locality Awareness</a></li>
<li class="toctree-l2"><a class="reference internal" href="#whitepapers">Whitepapers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#environment-variables">Environment Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#openshmem-standard-specific-environment-variables">OpenSHMEM Standard Specific Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-setup-and-running-specific-environment-variables">Cray OpenSHMEMX Setup and Running Specific Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-and-cray-dsmml-interaction-environment-variables">Cray OpenSHMEMX and Cray DSMML Interaction Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-collectives-specific-environment-variables">Cray OpenSHMEMX Collectives Specific Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-multithreading-specific-environment-variables">Cray OpenSHMEMX Multithreading Specific Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-communication-context-environment-variables">Cray OpenSHMEMX Communication Context Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-smp-communication-layer-specific-environment-variables">Cray OpenSHMEMX - SMP Communication Layer Specific Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cray-openshmemx-libfabric-transport-specific-environment-variables">Cray OpenSHMEMX Libfabric Transport Specific Environment Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tuning_parameters.html">Tuning Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="white_papers.html">Whitepapers</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_list.html">API List</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_glossary.html">API Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cray OpenSHMEMX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro_shmem.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>OpenSHMEM is a Partitioned Global Address Space (PGAS) library interface
specification, which is the culmination of a standardization effort among
many implementers and users of SHMEM programming model. SHMEM has a long
history as a parallel programming model on Cray systems. For the past two
decades SHMEM library implementation in Cray systems evolved through
different generations. Cray OpenSHMEMX is a proprietary, OpenSHMEM
specification compliant SHMEM implementation for current and future
generation Cray systems.</p>
<p>Cray OpenSHMEMX release version 8.0.0 is the first official release of
the Cray OpenSHMEMX library, it is a proprietary SHMEM implementation from
Cray Inc which is OpenSHMEM standards compliant.</p>
<p>On Cray XC systems, Cray OpenSHMEMX is not released as a replacement
library for the existing Cray SHMEM library. It is released as an
evaluation product.</p>
<p>On Cray Shasta systems, Cray OpenSHMEMX is the default production ready
propreitary OpenSHMEM implementation from Cray Inc.</p>
</div>
<div class="section" id="description">
<h1>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h1>
<p>The logically shared, distributed memory access (SHMEM) routines
provide low-latency, high-bandwidth communication for use in highly
parallelized scalable programs.</p>
<p>The SHMEM data-passing library routines are similar to the message
passing interface (MPI) library routines: they pass data between
cooperating parallel processes. The SHMEM data-passing routines can be
used in programs that perform computations in separate address spaces
and that explicitly pass data to and from different processing
elements (PEs) in the program.</p>
<p>The SHMEM parallel programming model assumes an MPI-1 like group of
processes that runs in parallel from job launch to job termination. No
processes can be added or removed from this group and all processes
execute the same application. Thus, SHMEM applications are of the SPMD
(Single Program Multiple Data) type. SHMEM is a one-sided message
passing model in which memory is private to each process.</p>
<p>The SHMEM routines minimize the overhead associated with data passing
requests, maximize bandwidth, and minimize data latency. Data latency
is the length of time between a PE initiating a transfer of data and a
PE being able to use the data.</p>
<p>SHMEM routines support remote data transfer through put operations
that transfer data to a different PE and get operations that transfer
data from a different PE. Other supported operations are work-shared
broadcast and reduction, barrier synchronization, and atomic memory
operations.</p>
<p>More information on the SHMEM programming model can be found in the
OpenSHMEM standard specification documentation. <a class="reference external" href="http://openshmem.org">http://openshmem.org</a></p>
</div>
<div class="section" id="openshmem-compliance">
<h1>OpenSHMEM Compliance<a class="headerlink" href="#openshmem-compliance" title="Permalink to this headline">¶</a></h1>
<p>Cray OpenSHMEMX is compliant with the OpenSHMEM API Specification Version
1.4. All Cray specific extensions are prefixed with SHMEMX nomenclature
and placed inside the shmemx.h and shmemx.fh header.</p>
<p>The following are the list of Cray-specific features available in Cray
OpenSHMEMX library:</p>
<ol class="arabic simple">
<li>alltoallv and alltoallv_packed collective operation</li>
<li>put with signal operation</li>
<li>thread-hot multithreading features with thread-based memory ordering</li>
<li>teams and team-based collectives</li>
<li>local-node queries</li>
</ol>
</div>
<div class="section" id="supported-platforms">
<h1>Supported Platforms<a class="headerlink" href="#supported-platforms" title="Permalink to this headline">¶</a></h1>
<p>Cray OpenSHMEMX is designed to be modular to support different transport
layers for communication. The current version support the following
transport layers:</p>
<p>1. SMP-OFI - OFI for internode and XPMEM for intranode communication
Support for XPMEM is available only on systems with XPMEM kernel.
SMP-OFI transport option is available only on Cray Shasta supercomputer
systems.</p>
<p>2. SMP-DMAPP - DMAPP for internode and XPMEM for intranode communication
Support for XPMEM is available only on systems with XPMEM kernel.
SMP-DMAPP transport option is available only on Cray XC supercomputer systems.</p>
</div>
<div class="section" id="using-cray-openshmemx">
<h1>Using Cray OpenSHMEMX<a class="headerlink" href="#using-cray-openshmemx" title="Permalink to this headline">¶</a></h1>
<div class="section" id="compiling-and-launching-a-shmem-application-on-a-cray-system">
<h2>Compiling and Launching a SHMEM Application on a Cray System<a class="headerlink" href="#compiling-and-launching-a-shmem-application-on-a-cray-system" title="Permalink to this headline">¶</a></h2>
<p>To invoke the compiler for all applications, including SHMEM
applications, use either the cc, CC, or ftn command. Do not use
vendor-specific compiler commands such as pgcc, as this may result in
undefined behavior.</p>
<p>Example:</p>
<p>In the example below, an application is first compiled, and the
resulting executable is then launched using 128 processes:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span> <span class="o">-</span><span class="n">o</span> <span class="n">test_shmem</span> <span class="n">test_shmem</span><span class="o">.</span><span class="n">c</span>
<span class="n">srun</span> <span class="o">-</span><span class="n">n</span> <span class="mi">128</span> <span class="o">./</span><span class="n">test_shmem</span>
</pre></div>
</div>
<p>See the srun(1) man page for more information. We can use other workload
managers like aprun() on Cray XC systems when available.</p>
</div>
<div class="section" id="support-for-static-and-dynamic-linking">
<h2>Support for Static and Dynamic linking<a class="headerlink" href="#support-for-static-and-dynamic-linking" title="Permalink to this headline">¶</a></h2>
<p>Cray OpenSHMEMX supports both static and dynamic linking. Loading
Cray OpenSHMEMX module file automatically retrieves the correct library to
link and compile against.</p>
<p>Example:</p>
<p>In the example below, an application is first compiled with static linking.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">cray</span><span class="o">-</span><span class="n">openshmemx</span><span class="o">/&lt;</span><span class="n">version</span><span class="o">&gt;</span>
<span class="n">cc</span> <span class="o">-</span><span class="n">o</span> <span class="n">test_shmem</span> <span class="n">test_shmem</span><span class="o">.</span><span class="n">c</span>
</pre></div>
</div>
<p>Once compiled, applications can be directly launched using the available
workload managers like srun() and aprun() based on the supported workload
managers on the system.</p>
<p>NOTE: As of Cray OpenSHMEMX version 10.0.0, static builds are not supported
in Cray Shasta systems.</p>
</div>
<div class="section" id="caveats-for-using-cray-openshmemx-on-cray-xc-systems">
<h2>Caveats for Using Cray OpenSHMEMX on Cray XC systems<a class="headerlink" href="#caveats-for-using-cray-openshmemx-on-cray-xc-systems" title="Permalink to this headline">¶</a></h2>
<p>Specifically on Cray XC systems, for dynamic builds, users are expected to
explicitly load the location of the Cray OpenSHMEMX in the LD_LIBRARY_PATH
as shown in the example below before running the application:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>module load cray-openshmemx/&lt;version&gt;
cc -o test_shmem test_shmem.c
export LD_LIBRARY_PATH=$CRAY_OPENSHMEMX_DIR/lib64:$LD_LIBRARY_PATH
srun -n 128 ./test_shmem
</pre></div>
</div>
<p>This step is required only on Cray XC systems and Cray Shasta systems will
automatically select the right library while running the applications. There is
no requirement for specific LD_LIBRARY_PATH updates.</p>
</div>
</div>
<div class="section" id="general-notes">
<h1>General Notes<a class="headerlink" href="#general-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="openshmem-c11-generic-interfaces">
<h2>OpenSHMEM C11-Generic Interfaces<a class="headerlink" href="#openshmem-c11-generic-interfaces" title="Permalink to this headline">¶</a></h2>
<p>The Cray OpenSHMEMX library supports the OpenSHMEM C11-Generic interface,
which is new with OpenSHMEM V1.3. This interface does not add new
functionality, but allows existing routines to be called with a
generic name that maps to a type-specific routine based on the type of
the arguments. Only certain programming environments support the
C11-Generic interface. As of the time of the Cray OpenSHMEMX V8.0.0
release, these include:</p>
<ol class="arabic simple">
<li>CCE 8.5 or later; use the -hstd=c11 flag during compilation</li>
<li>GNU 5.1 or later; no additional flags needed</li>
<li>Intel 16.0 or later; use the -std=c11 or -std=c1x flag during compilation</li>
</ol>
<p>To use the C11-Generic interface, you must use a compiler that
supports this feature and you must be sure that the first argument to
the generic routine is one of the types in the list of the type-
specific routines for that functionality. For example,</p>
<blockquote>
<div>long source[8], dest[8];
shmem_get(dest, source, 8, 31);</div></blockquote>
<p>is a valid use of C11-Generic because shmem_long_get is one of the
type-specific get routines.</p>
</div>
<div class="section" id="zero-length-data-transfer">
<h2>Zero-length Data Transfer<a class="headerlink" href="#zero-length-data-transfer" title="Permalink to this headline">¶</a></h2>
<p>Per OpenSHMEM specification 1.2 Annex C, support for zero-length
transfers is provided for zero-length get and put. Remote memory transfers
for zero number of elements are accepted, and this support is provided for
both block and non-blocking transfers. The usage of NULL pointers for data
transfer usually leads to program abort, but for zero-length transfers,
the usage of NULL pointers is accepted.</p>
</div>
<div class="section" id="managing-memory-in-cray-openshmemx">
<h2>Managing Memory in Cray OpenSHMEMX<a class="headerlink" href="#managing-memory-in-cray-openshmemx" title="Permalink to this headline">¶</a></h2>
<p>Refer shmem_mem_manage(3) for more information on managing memory in
Cray OpenSHMEMX</p>
</div>
<div class="section" id="interconnect-specific-informations">
<h2>Interconnect Specific Informations<a class="headerlink" href="#interconnect-specific-informations" title="Permalink to this headline">¶</a></h2>
<p>On Cray Shasta systems, Cray OpenSHMEMX uses libfabric (OFI) for network
based communication and data transfer operations.</p>
<p>On Cray XC systems, Cray OpenSHMEMX uses DMAPP for network based communication
and data transfer operations.</p>
</div>
<div class="section" id="cray-thread-hot-and-openshmem-contexts">
<h2>Cray Thread-hot and OpenSHMEM Contexts<a class="headerlink" href="#cray-thread-hot-and-openshmem-contexts" title="Permalink to this headline">¶</a></h2>
<p>Refer to shmem_multithreading(3) man page for more information on the
interacting with OpenSHMEM multithreading features, communication context
and Cray-specific thread-hot features</p>
</div>
<div class="section" id="cray-openshmemx-locality-awareness">
<h2>Cray OpenSHMEMX Locality Awareness<a class="headerlink" href="#cray-openshmemx-locality-awareness" title="Permalink to this headline">¶</a></h2>
<p>Cray OpenSHMEMX version 9.0.0 and later provides support for locality
awareness. On previous versions, we initialized both the network transport
options (OFI) and on-node transport (XPMEM) options even on single-node jobs.
We used environment variables like SHMEM_USE_SMP to toggle the use of
on-node data transfers.</p>
<p>On Cray OpenSHMEMX versions 9.0.0 and later, only on-node transport (XPMEM)
options are initialized for single-node jobs. Users can toggle the usage using
the following environment variable options: SHMEM_LOCALITY_ONNODE and
SHMEM_LOCALITY_OFFNODE. Please refer these environment variables in the
the following section, for more information.</p>
</div>
<div class="section" id="whitepapers">
<h2>Whitepapers<a class="headerlink" href="#whitepapers" title="Permalink to this headline">¶</a></h2>
<p>Whitepapers and other performance tuning related details are available in the
Cray Programming Environment Github page: <a class="reference external" href="https://pe-cray.github.io/whitepapers/">https://pe-cray.github.io/whitepapers/</a>.</p>
</div>
</div>
<div class="section" id="environment-variables">
<h1>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h1>
<p>The following environment variables affect SHMEM behavior.</p>
<div class="section" id="openshmem-standard-specific-environment-variables">
<h2>OpenSHMEM Standard Specific Environment Variables<a class="headerlink" href="#openshmem-standard-specific-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_SYMMETRIC_SIZE</span>
          <span class="n">Controls</span> <span class="n">the</span> <span class="n">size</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span> <span class="n">per</span> <span class="n">PE</span> <span class="n">of</span> <span class="n">the</span> <span class="n">symmetric</span> <span class="n">heap</span><span class="o">.</span>
          <span class="n">Memory</span> <span class="n">segments</span> <span class="n">allocated</span> <span class="n">by</span> <span class="n">calls</span> <span class="n">to</span> <span class="n">shmem_malloc</span><span class="p">()</span> <span class="ow">or</span>
          <span class="n">shpalloc</span><span class="p">()</span> <span class="n">are</span> <span class="n">taken</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">symmetric</span> <span class="n">heap</span><span class="o">.</span> <span class="n">There</span> <span class="ow">is</span> <span class="n">no</span>
          <span class="n">other</span> <span class="n">valid</span> <span class="n">way</span> <span class="n">to</span> <span class="n">use</span> <span class="n">memory</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">symmetric</span> <span class="n">heap</span><span class="o">.</span> <span class="n">If</span>
          <span class="n">there</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">enough</span> <span class="n">memory</span> <span class="n">left</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">symmetric</span> <span class="n">heap</span> <span class="n">to</span>
          <span class="n">satisfy</span> <span class="n">the</span> <span class="n">shmem_malloc</span><span class="p">()</span> <span class="ow">or</span> <span class="n">shpalloc</span><span class="p">()</span> <span class="n">request</span><span class="p">,</span> <span class="n">an</span> <span class="n">error</span>
          <span class="n">message</span> <span class="ow">is</span> <span class="n">issued</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">job</span> <span class="ow">is</span> <span class="n">terminated</span><span class="o">.</span>

          <span class="n">Note</span><span class="p">:</span>  <span class="n">Data</span> <span class="n">objects</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">static</span> <span class="n">data</span> <span class="n">segment</span> <span class="ow">and</span> <span class="n">bss</span>
          <span class="n">segment</span> <span class="n">are</span> <span class="n">also</span> <span class="n">symmetric</span> <span class="n">objects</span> <span class="n">but</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">part</span> <span class="n">of</span> <span class="n">the</span>
          <span class="n">symmetric</span> <span class="n">heap</span> <span class="ow">and</span> <span class="n">therefore</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">counted</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span>
          <span class="n">the</span> <span class="n">symmetric</span> <span class="n">heap</span> <span class="k">as</span> <span class="n">determined</span> <span class="n">by</span> <span class="n">SHMEM_SYMMETRIC_SIZE</span><span class="o">.</span>

          <span class="n">The</span> <span class="n">value</span> <span class="nb">set</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">interpreted</span> <span class="k">as</span>
          <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">number</span> <span class="ow">is</span> <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">char</span>
          <span class="n">that</span> <span class="n">acts</span> <span class="k">as</span> <span class="n">a</span> <span class="n">multiplier</span><span class="p">,</span> <span class="n">where</span><span class="p">:</span>


          <span class="n">g</span> <span class="ow">or</span> <span class="n">G</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">30</span> <span class="p">(</span><span class="n">gigabytes</span><span class="p">)</span>

          <span class="n">k</span> <span class="ow">or</span> <span class="n">K</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">10</span> <span class="p">(</span><span class="n">kilobytes</span><span class="p">)</span>

          <span class="n">m</span> <span class="ow">or</span> <span class="n">M</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">20</span> <span class="p">(</span><span class="n">megabytes</span><span class="p">)</span>

          <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="n">the</span> <span class="n">string</span> <span class="mi">20</span><span class="n">m</span> <span class="n">returns</span> <span class="n">the</span> <span class="n">integer</span> <span class="n">value</span>
          <span class="mi">20</span><span class="o">*</span><span class="mi">2</span><span class="o">**</span><span class="mi">20</span><span class="p">,</span> <span class="ow">or</span> <span class="mi">20</span> <span class="n">megabytes</span><span class="o">.</span>

          <span class="n">Only</span> <span class="n">one</span> <span class="n">multiplier</span> <span class="ow">is</span> <span class="n">recognized</span><span class="p">,</span> <span class="n">so</span> <span class="mi">20</span><span class="n">kk</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">produce</span>
          <span class="n">the</span> <span class="n">same</span> <span class="n">value</span> <span class="k">as</span> <span class="mi">20</span><span class="n">m</span><span class="p">,</span> <span class="n">nor</span> <span class="n">will</span> <span class="n">invalid</span> <span class="n">strings</span> <span class="n">such</span> <span class="k">as</span> <span class="mi">20</span><span class="n">MB</span>
          <span class="n">produce</span> <span class="n">the</span> <span class="n">desired</span> <span class="n">result</span><span class="o">.</span>

          <span class="n">Floating</span> <span class="n">point</span> <span class="nb">input</span> <span class="ow">is</span> <span class="n">recognized</span> <span class="n">during</span> <span class="n">expansion</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span>
          <span class="mf">20.5</span><span class="n">m</span> <span class="n">will</span> <span class="n">produce</span> <span class="mf">20.5</span><span class="o">*</span><span class="mi">2</span><span class="o">**</span><span class="mi">20</span><span class="p">,</span> <span class="ow">or</span> <span class="mf">20.5</span> <span class="n">megabytes</span><span class="o">.</span> <span class="n">Values</span> <span class="n">are</span>
          <span class="n">rounded</span> <span class="n">to</span> <span class="n">the</span> <span class="n">nearest</span> <span class="n">byte</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>

<span class="n">SHMEM_VERSION_DISPLAY</span>
          <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">causes</span> <span class="n">SHMEM</span> <span class="n">to</span> <span class="n">display</span> <span class="n">the</span> <span class="n">Cray</span> <span class="n">OpenSHMEMX</span> <span class="n">version</span>
          <span class="n">number</span> <span class="k">as</span> <span class="n">well</span> <span class="k">as</span> <span class="n">the</span> <span class="n">build</span> <span class="n">date</span> <span class="n">information</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="n">enabled</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-setup-and-running-specific-environment-variables">
<h2>Cray OpenSHMEMX Setup and Running Specific Environment Variables<a class="headerlink" href="#cray-openshmemx-setup-and-running-specific-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_ABORT_ON_ERROR</span>
          <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">causes</span> <span class="n">SHMEM</span> <span class="n">to</span> <span class="n">abort</span> <span class="ow">and</span> <span class="n">produce</span> <span class="n">a</span> <span class="n">core</span> <span class="n">dump</span> <span class="n">when</span>
          <span class="n">SHMEM</span> <span class="n">detects</span> <span class="n">an</span> <span class="n">error</span><span class="o">.</span> <span class="n">If</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">,</span> <span class="n">SHMEM</span> <span class="n">instead</span> <span class="n">calls</span>
          <span class="n">exit</span><span class="p">()</span> <span class="k">with</span> <span class="n">a</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="n">exit</span> <span class="n">status</span><span class="o">.</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">the</span> <span class="n">shell</span>
          <span class="n">coredumpsize</span> <span class="n">must</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">appropriately</span> <span class="n">to</span> <span class="n">enable</span> <span class="n">core</span> <span class="n">dumps</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="n">enabled</span>

<span class="n">SHMEM_ENV_DISPLAY</span>
          <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">causes</span> <span class="n">SHMEM</span> <span class="n">to</span> <span class="n">display</span> <span class="nb">all</span> <span class="n">SHMEM</span> <span class="n">environment</span>
          <span class="n">variables</span> <span class="ow">and</span> <span class="n">their</span> <span class="n">current</span> <span class="n">settings</span> <span class="n">at</span> <span class="n">SHMEM</span> <span class="n">initialization</span>
          <span class="n">time</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="n">enabled</span>

<span class="n">SHMEM_ERROR_FILE</span>
          <span class="n">To</span> <span class="n">redirect</span> <span class="n">error</span> <span class="n">messages</span> <span class="n">issued</span> <span class="n">by</span> <span class="n">the</span> <span class="n">SHMEM</span> <span class="n">library</span> <span class="n">to</span>
          <span class="n">stdout</span><span class="p">,</span> <span class="nb">set</span> <span class="n">this</span> <span class="n">variable</span> <span class="n">to</span> <span class="n">stdout</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="n">stderr</span>

<span class="n">SHMEM_FREEMEM_THRESHOLD</span>
          <span class="n">Sets</span> <span class="n">the</span> <span class="n">percentage</span> <span class="n">of</span> <span class="n">huge_page_freemem</span> <span class="n">that</span> <span class="n">SHMEM</span>
          <span class="n">initialization</span> <span class="n">allows</span> <span class="n">to</span> <span class="n">be</span> <span class="n">allocated</span> <span class="k">for</span> <span class="n">the</span> <span class="n">four</span> <span class="n">SHMEM</span>
          <span class="n">memory</span> <span class="n">regions</span><span class="o">.</span> <span class="n">Using</span> <span class="n">a</span> <span class="n">value</span> <span class="n">too</span> <span class="n">close</span> <span class="n">to</span> <span class="mi">100</span><span class="o">%</span> <span class="n">risks</span> <span class="n">having</span>
          <span class="n">the</span> <span class="n">job</span> <span class="n">killed</span> <span class="n">during</span> <span class="n">execution</span> <span class="n">because</span> <span class="n">there</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">enough</span>
          <span class="n">memory</span> <span class="n">left</span> <span class="k">for</span> <span class="n">other</span> <span class="n">purposes</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">95</span>

<span class="n">SHMEM_MEMINFO_DISPLAY</span>
          <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">causes</span> <span class="n">SHMEM</span> <span class="n">to</span> <span class="n">display</span> <span class="n">information</span> <span class="n">about</span> <span class="n">the</span> <span class="n">job</span><span class="s1">&#39;s</span>
          <span class="n">memory</span> <span class="n">allocation</span> <span class="n">during</span> <span class="n">initialization</span><span class="o">.</span> <span class="n">For</span> <span class="n">more</span>
          <span class="n">information</span> <span class="n">about</span> <span class="n">SHMEM</span> <span class="n">memory</span> <span class="n">allocation</span> <span class="ow">and</span> <span class="n">management</span><span class="p">,</span>
          <span class="n">see</span> <span class="n">the</span> <span class="n">MANAGING</span> <span class="n">MEMORY</span> <span class="n">IN</span> <span class="n">SHMEM</span> <span class="n">section</span> <span class="n">of</span> <span class="n">this</span> <span class="n">man</span> <span class="n">page</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="n">enabled</span>

<span class="n">SHMEM_OPTIMIZED_MEMCPY</span>
          <span class="n">Specified</span> <span class="n">which</span> <span class="n">version</span> <span class="n">of</span> <span class="n">memcpy</span> <span class="n">to</span> <span class="n">use</span><span class="o">.</span> <span class="n">Valid</span> <span class="n">values</span> <span class="n">are</span><span class="p">:</span>



          <span class="mi">0</span>         <span class="n">Use</span> <span class="n">the</span> <span class="n">system</span> <span class="p">(</span><span class="n">glibc</span><span class="p">)</span> <span class="n">version</span> <span class="n">of</span> <span class="n">memcpy</span><span class="o">.</span>

          <span class="mi">1</span>         <span class="n">Use</span> <span class="n">an</span> <span class="n">optimized</span> <span class="n">version</span> <span class="n">of</span> <span class="n">memcpy</span> <span class="k">if</span> <span class="n">one</span> <span class="ow">is</span>
                    <span class="n">available</span> <span class="k">for</span> <span class="n">the</span> <span class="n">processor</span> <span class="n">being</span> <span class="n">used</span><span class="o">.</span> <span class="n">In</span> <span class="n">this</span>
                    <span class="n">release</span><span class="p">,</span> <span class="n">an</span> <span class="n">optimized</span> <span class="n">version</span> <span class="n">of</span> <span class="n">memcpy</span><span class="p">()</span> <span class="ow">is</span>
                    <span class="n">available</span> <span class="n">only</span> <span class="k">for</span> <span class="n">Intel</span> <span class="n">processors</span><span class="o">.</span>

          <span class="mi">2</span>         <span class="n">Use</span> <span class="n">a</span> <span class="n">highly</span> <span class="n">optimized</span> <span class="n">version</span> <span class="n">of</span> <span class="n">memcpy</span> <span class="k">if</span> <span class="n">one</span> <span class="ow">is</span>
                    <span class="n">available</span> <span class="k">for</span> <span class="n">the</span> <span class="n">processor</span> <span class="n">being</span> <span class="n">used</span><span class="o">.</span> <span class="n">In</span> <span class="n">this</span>
                    <span class="n">release</span><span class="p">,</span> <span class="n">a</span> <span class="n">highly</span> <span class="n">optimized</span> <span class="n">version</span> <span class="n">of</span> <span class="n">memcpy</span><span class="p">()</span> <span class="ow">is</span>
                    <span class="n">available</span> <span class="n">only</span> <span class="k">for</span> <span class="n">Intel</span> <span class="n">Haswell</span><span class="p">,</span> <span class="n">Broadwell</span> <span class="ow">and</span>
                    <span class="n">KNL</span> <span class="n">processors</span><span class="o">.</span>

                    <span class="n">The</span> <span class="n">optimized</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">memcpy</span> <span class="n">may</span> <span class="n">provide</span>
                    <span class="n">better</span> <span class="n">performance</span> <span class="ow">in</span> <span class="n">some</span> <span class="n">areas</span> <span class="n">but</span> <span class="n">may</span> <span class="n">have</span>
                    <span class="n">performance</span> <span class="n">regressions</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">areas</span><span class="o">.</span>

                    <span class="n">The</span> <span class="n">benefits</span> <span class="n">may</span> <span class="n">vary</span> <span class="n">depending</span> <span class="n">on</span> <span class="n">the</span> <span class="n">programming</span>
                    <span class="n">environment</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">communication</span> <span class="n">pattern</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span> <span class="n">a</span>
                    <span class="n">point</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">point</span> <span class="ow">or</span> <span class="nb">all</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="nb">all</span> <span class="n">pattern</span><span class="p">)</span> <span class="n">on</span> <span class="n">the</span> <span class="n">node</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-and-cray-dsmml-interaction-environment-variables">
<h2>Cray OpenSHMEMX and Cray DSMML Interaction Environment Variables<a class="headerlink" href="#cray-openshmemx-and-cray-dsmml-interaction-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_USE_DSMML</span>
            <span class="n">Specifies</span> <span class="n">the</span> <span class="n">usage</span> <span class="n">of</span> <span class="n">Cray</span> <span class="n">DSMML</span> <span class="n">library</span> <span class="k">as</span> <span class="n">the</span> <span class="n">symmetric</span>
            <span class="n">heap</span> <span class="n">memory</span> <span class="n">management</span> <span class="n">layer</span><span class="o">.</span> <span class="n">There</span> <span class="n">are</span> <span class="n">two</span> <span class="n">symmetric</span> <span class="n">heap</span>
            <span class="n">management</span> <span class="n">layers</span> <span class="n">available</span> <span class="ow">in</span> <span class="n">Cray</span> <span class="n">OpenSHMEMX</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">internal</span>
            <span class="n">module</span> <span class="k">with</span> <span class="n">basic</span> <span class="n">functionalities</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="n">Cray</span> <span class="n">DSMML</span> <span class="n">module</span> <span class="k">with</span>
            <span class="n">advanced</span> <span class="ow">and</span> <span class="n">optimized</span> <span class="n">features</span><span class="o">.</span> <span class="n">By</span><span class="p">,</span> <span class="n">default</span> <span class="n">Cray</span> <span class="n">DSMML</span> <span class="ow">is</span>
            <span class="n">used</span> <span class="k">as</span> <span class="n">the</span> <span class="n">symmetric</span> <span class="n">heap</span> <span class="n">management</span> <span class="n">layer</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">enables</span>
            <span class="n">the</span> <span class="n">use</span> <span class="n">of</span> <span class="n">Cray</span> <span class="n">DSMML</span> <span class="k">as</span> <span class="n">the</span> <span class="n">symmetric</span> <span class="n">heap</span> <span class="n">management</span> <span class="n">layer</span>
            <span class="ow">in</span> <span class="n">Cray</span> <span class="n">OpenSHMEMX</span><span class="o">.</span>

            <span class="n">Default</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">enabled</span><span class="p">)</span>

<span class="n">SHMEM_USE_DSMML_SSHEAP</span>
            <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">enables</span> <span class="n">the</span> <span class="n">usage</span> <span class="n">of</span> <span class="n">shared</span> <span class="n">symmetric</span> <span class="n">heap</span> <span class="p">(</span><span class="n">SSHEAP</span><span class="p">)</span>
            <span class="n">based</span> <span class="n">symmetric</span> <span class="n">memory</span> <span class="n">management</span> <span class="n">operation</span><span class="o">.</span> <span class="n">SSHEAP</span> <span class="ow">is</span> <span class="n">an</span>
            <span class="n">option</span> <span class="n">available</span> <span class="n">to</span> <span class="n">perform</span> <span class="n">on</span><span class="o">-</span><span class="n">node</span> <span class="n">data</span> <span class="n">transfer</span> <span class="k">as</span> <span class="n">a</span> <span class="n">direct</span>
            <span class="n">load</span><span class="o">/</span><span class="n">store</span> <span class="n">operation</span><span class="o">.</span> <span class="n">SSHEAP</span> <span class="n">can</span> <span class="n">be</span> <span class="n">considered</span> <span class="k">as</span> <span class="n">a</span>
            <span class="n">replacement</span> <span class="k">for</span> <span class="n">XPMEM</span> <span class="ow">and</span> <span class="n">CMA</span> <span class="n">based</span> <span class="n">transfer</span> <span class="n">operation</span><span class="o">.</span> <span class="n">Usable</span>
            <span class="n">only</span> <span class="n">when</span> <span class="n">SHMEM_USE_DSMML</span> <span class="ow">is</span> <span class="n">enabled</span><span class="o">.</span>

            <span class="n">Default</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">enabled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-collectives-specific-environment-variables">
<h2>Cray OpenSHMEMX Collectives Specific Environment Variables<a class="headerlink" href="#cray-openshmemx-collectives-specific-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_ALLTOALL_BLOCK_SIZE</span>
          <span class="n">Specifies</span> <span class="n">the</span> <span class="n">blocksize</span> <span class="ow">in</span> <span class="nb">bytes</span> <span class="k">for</span> <span class="n">shmem_alltoall</span> <span class="ow">and</span>
          <span class="n">shmem_alltoallv</span> <span class="n">to</span> <span class="n">use</span> <span class="n">when</span> <span class="n">strip</span><span class="o">-</span><span class="n">mining</span> <span class="n">the</span> <span class="n">data</span> <span class="n">transfers</span><span class="o">.</span>
          <span class="n">For</span> <span class="n">Cray</span> <span class="n">XE</span> <span class="n">systems</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span> <span class="n">varies</span> <span class="n">between</span> <span class="mi">256</span> <span class="ow">and</span>
          <span class="mi">1536</span><span class="p">,</span> <span class="n">depending</span> <span class="n">on</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">PEs</span> <span class="n">being</span> <span class="n">used</span> <span class="n">per</span> <span class="n">node</span><span class="o">.</span> <span class="n">A</span>
          <span class="n">higher</span> <span class="n">number</span> <span class="n">of</span> <span class="n">PEs</span> <span class="n">per</span> <span class="n">node</span> <span class="n">results</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">lower</span> <span class="n">blocksize</span><span class="o">.</span>
          <span class="n">An</span> <span class="n">optimal</span> <span class="n">blocksize</span> <span class="n">may</span> <span class="n">be</span> <span class="n">dependent</span> <span class="n">on</span> <span class="n">the</span> <span class="n">specific</span>
          <span class="n">network</span> <span class="n">configuration</span><span class="o">.</span> <span class="n">Valid</span> <span class="n">blocksizes</span> <span class="nb">range</span> <span class="kn">from</span> <span class="o">-</span><span class="mi">1</span> <span class="n">to</span>
          <span class="n">MAX_INT</span><span class="p">,</span> <span class="ow">in</span> <span class="n">multiples</span> <span class="n">of</span> <span class="n">eight</span><span class="o">.</span> <span class="n">The</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">interpreted</span> <span class="k">as</span>
          <span class="nb">bytes</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">string</span> <span class="n">ends</span> <span class="k">with</span> <span class="n">a</span> <span class="n">K</span><span class="p">,</span> <span class="n">indicating</span>
          <span class="n">kilobytes</span><span class="p">,</span> <span class="ow">or</span> <span class="n">M</span><span class="p">,</span> <span class="n">indicating</span> <span class="n">megabytes</span><span class="o">.</span> <span class="n">A</span> <span class="n">value</span> <span class="n">of</span> <span class="o">-</span><span class="mi">1</span>
          <span class="n">indicates</span> <span class="n">use</span> <span class="n">of</span> <span class="n">the</span> <span class="n">default</span> <span class="n">value</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">(</span><span class="n">varies</span><span class="p">)</span>

<span class="n">SHMEM_ALLTOALL_SHORT_MSG</span>
          <span class="n">Specifies</span> <span class="n">the</span> <span class="n">threshold</span> <span class="ow">in</span> <span class="nb">bytes</span> <span class="n">at</span> <span class="ow">and</span> <span class="n">below</span> <span class="n">which</span> <span class="n">SHMEM</span>
          <span class="n">attempts</span> <span class="n">to</span> <span class="n">use</span> <span class="n">the</span> <span class="n">SMP</span><span class="o">-</span><span class="n">aware</span> <span class="n">alltoall</span> <span class="n">algorithm</span><span class="o">.</span> <span class="n">A</span> <span class="n">strip</span><span class="o">-</span>
          <span class="n">mined</span><span class="p">,</span> <span class="n">non</span><span class="o">-</span><span class="n">blocking</span> <span class="n">PUT</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="n">larger</span>
          <span class="n">transfers</span><span class="o">.</span> <span class="n">The</span> <span class="n">SMP</span><span class="o">-</span><span class="n">aware</span> <span class="n">algorithm</span> <span class="n">usually</span> <span class="n">performs</span> <span class="n">best</span> <span class="k">for</span>
          <span class="n">small</span> <span class="n">alltoall</span> <span class="n">transfers</span><span class="p">,</span> <span class="n">but</span> <span class="n">has</span> <span class="n">additional</span> <span class="n">restrictions</span><span class="o">.</span>
          <span class="n">The</span> <span class="n">SMP</span><span class="o">-</span><span class="n">aware</span> <span class="n">algorithm</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">used</span> <span class="k">if</span> <span class="n">the</span> <span class="n">PE</span> <span class="n">subset</span> <span class="ow">is</span>
          <span class="n">contained</span> <span class="n">to</span> <span class="n">one</span> <span class="n">node</span> <span class="ow">or</span> <span class="k">if</span> <span class="n">the</span> <span class="n">PE</span> <span class="n">subset</span> <span class="n">uses</span> <span class="n">only</span> <span class="n">one</span> <span class="n">PE</span>
          <span class="n">per</span> <span class="n">node</span><span class="o">.</span> <span class="n">In</span> <span class="n">addition</span><span class="p">,</span> <span class="nb">all</span> <span class="n">nodes</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">subset</span> <span class="n">must</span> <span class="n">be</span>
          <span class="n">identical</span> <span class="ow">in</span> <span class="n">terms</span> <span class="n">of</span> <span class="n">number</span> <span class="n">of</span> <span class="n">PEs</span> <span class="n">per</span> <span class="n">node</span><span class="p">,</span> <span class="k">with</span> <span class="n">the</span>
          <span class="n">exception</span> <span class="n">of</span> <span class="n">the</span> <span class="n">last</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">set</span><span class="o">.</span> <span class="n">The</span> <span class="n">SMP</span><span class="o">-</span><span class="n">aware</span>
          <span class="n">algorithm</span> <span class="n">requires</span> <span class="p">(</span><span class="n">number_of_nodes</span> <span class="o">*</span>
          <span class="n">number_of_PEs_per_node</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="n">len_of_msg</span><span class="p">)</span> <span class="n">extra</span> <span class="nb">bytes</span> <span class="n">of</span>
          <span class="n">symmetric</span> <span class="n">memory</span><span class="o">.</span> <span class="n">This</span> <span class="n">can</span> <span class="n">be</span> <span class="n">controlled</span> <span class="n">via</span> <span class="n">the</span>
          <span class="n">SHMEM_ALLTOALL_SYMBUF_SIZE</span> <span class="n">environment</span> <span class="n">variable</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">32</span> <span class="nb">bytes</span>

<span class="n">SHMEM_ALLTOALL_SYMBUF_SIZE</span>
          <span class="n">Specifies</span> <span class="n">the</span> <span class="n">amount</span> <span class="n">of</span> <span class="n">additional</span> <span class="n">symmetric</span> <span class="n">memory</span>
          <span class="n">allocated</span> <span class="n">during</span> <span class="n">shmem</span> <span class="n">initialization</span><span class="p">,</span> <span class="n">to</span> <span class="n">be</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span>
          <span class="n">SMP</span><span class="o">-</span><span class="n">aware</span> <span class="n">alltoall</span> <span class="n">algorithm</span><span class="o">.</span> <span class="n">The</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">interpreted</span> <span class="k">as</span>
          <span class="nb">bytes</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">string</span> <span class="n">ends</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">K</span><span class="p">,</span> <span class="n">indicating</span> <span class="n">kilobytes</span><span class="p">,</span>
          <span class="ow">or</span> <span class="n">M</span><span class="p">,</span> <span class="n">indicating</span> <span class="n">megabytes</span><span class="o">.</span> <span class="n">See</span> <span class="n">the</span> <span class="n">SHMEM_ALLTOALL_SHORT_MSG</span>
          <span class="n">environment</span> <span class="n">variable</span> <span class="n">description</span> <span class="n">to</span> <span class="n">determine</span> <span class="n">how</span> <span class="n">much</span>
          <span class="n">memory</span> <span class="ow">is</span> <span class="n">required</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">4</span><span class="n">M</span>

<span class="n">SHMEM_ALLTOALL_SYNC_FREQ</span>
          <span class="n">Specifies</span> <span class="n">the</span> <span class="n">synchronization</span> <span class="n">frequency</span> <span class="p">(</span><span class="n">the</span> <span class="n">number</span> <span class="n">of</span>
          <span class="n">outstanding</span> <span class="n">requests</span><span class="p">)</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">the</span> <span class="n">shmem_alltoall</span> <span class="ow">and</span>
          <span class="n">shmem_alltoallv</span> <span class="n">routines</span> <span class="n">when</span> <span class="n">using</span> <span class="n">non</span><span class="o">-</span><span class="n">blocking</span>
          <span class="n">transactions</span><span class="o">.</span> <span class="n">For</span> <span class="n">Gemini</span> <span class="n">systems</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span> <span class="n">varies</span> <span class="n">between</span>
          <span class="mi">1</span> <span class="ow">and</span> <span class="mi">256</span><span class="p">,</span> <span class="n">depending</span> <span class="n">on</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">PEs</span> <span class="n">being</span> <span class="n">used</span> <span class="n">per</span>
          <span class="n">node</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">blocksize</span> <span class="n">of</span> <span class="n">the</span> <span class="n">transfers</span><span class="o">.</span> <span class="n">A</span> <span class="n">higher</span> <span class="n">number</span> <span class="n">of</span>
          <span class="n">PEs</span> <span class="n">per</span> <span class="n">node</span> <span class="n">results</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">lower</span> <span class="n">synchronization</span> <span class="n">frequency</span><span class="o">.</span>
          <span class="n">An</span> <span class="n">optimal</span> <span class="n">synchronization</span> <span class="n">frequency</span> <span class="n">may</span> <span class="n">be</span> <span class="n">dependent</span> <span class="n">on</span> <span class="n">the</span>
          <span class="n">specific</span> <span class="n">network</span> <span class="n">configuration</span><span class="o">.</span> <span class="n">A</span> <span class="n">valid</span> <span class="n">synchronization</span>
          <span class="n">frequency</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">range</span> <span class="n">of</span> <span class="o">-</span><span class="mi">1</span> <span class="n">to</span> <span class="n">MAX_INT</span><span class="o">.</span> <span class="n">A</span> <span class="n">value</span> <span class="n">of</span> <span class="o">-</span><span class="mi">1</span>
          <span class="n">indicates</span> <span class="n">use</span> <span class="n">of</span> <span class="n">the</span> <span class="n">default</span> <span class="n">values</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">(</span><span class="n">varies</span><span class="p">)</span>

<span class="n">SHMEM_ALLTOALL_USE_GETS</span>
          <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="n">shmem_alltoall</span> <span class="ow">and</span> <span class="n">shmem_alltoallv</span> <span class="n">use</span> <span class="n">PUTs</span><span class="o">.</span> <span class="n">If</span>
          <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="nb">set</span><span class="p">,</span> <span class="n">GETs</span> <span class="n">are</span> <span class="n">used</span> <span class="n">instead</span><span class="o">.</span>
          <span class="n">This</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">apply</span> <span class="n">to</span> <span class="n">the</span> <span class="n">shmem_alltoallv_packed</span> <span class="n">routine</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>

<span class="n">SHMEM_ALLTOALLV_TSIZE_CHK</span>
          <span class="n">Setting</span> <span class="n">this</span> <span class="n">will</span> <span class="n">enable</span> <span class="n">additional</span> <span class="n">error</span> <span class="n">checking</span> <span class="k">for</span> <span class="n">the</span>
          <span class="n">shmem_alltoallv</span> <span class="ow">and</span> <span class="n">shmem_alltoallv_packed</span> <span class="n">collective</span>
          <span class="n">routines</span> <span class="n">to</span> <span class="n">help</span> <span class="n">prevent</span> <span class="n">overwriting</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">target</span>
          <span class="n">array</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">abort</span> <span class="ow">or</span> <span class="n">trunc</span><span class="p">,</span> <span class="n">the</span> <span class="n">user</span> <span class="n">must</span> <span class="k">pass</span> <span class="ow">in</span> <span class="n">the</span>
          <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="n">allowed</span> <span class="kn">from</span> <span class="nn">each</span> <span class="n">PE</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">t_sizes</span>
          <span class="n">array</span> <span class="k">for</span> <span class="n">shmem_alltoallv</span><span class="o">.</span> <span class="n">Using</span> <span class="n">this</span> <span class="n">data</span><span class="p">,</span> <span class="n">the</span>
          <span class="n">shmem_alltoallv</span> <span class="n">routine</span> <span class="n">will</span> <span class="n">either</span> <span class="n">abort</span> <span class="k">if</span> <span class="nb">any</span> <span class="n">PE</span> <span class="n">plans</span> <span class="n">to</span>
          <span class="n">send</span> <span class="n">more</span> <span class="n">than</span> <span class="n">the</span> <span class="n">maximum</span> <span class="nb">bytes</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">allowed</span><span class="p">,</span> <span class="ow">or</span> <span class="n">truncate</span>
          <span class="n">the</span> <span class="n">data</span> <span class="n">so</span> <span class="n">that</span> <span class="n">it</span> <span class="n">fits</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">allowed</span> <span class="nb">bytes</span><span class="o">.</span> <span class="n">If</span>
          <span class="n">truncation</span> <span class="n">occurs</span><span class="p">,</span> <span class="n">the</span> <span class="n">returned</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">t_sizes</span> <span class="n">will</span>
          <span class="n">reflect</span> <span class="n">the</span> <span class="n">truncated</span> <span class="n">values</span><span class="o">.</span> <span class="n">Allowed</span> <span class="n">values</span> <span class="n">are</span> <span class="n">none</span><span class="p">,</span> <span class="n">abort</span>
          <span class="ow">or</span> <span class="n">trunc</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="n">none</span>

          <span class="n">Note</span><span class="p">:</span>  <span class="n">Setting</span> <span class="n">this</span> <span class="n">option</span> <span class="n">may</span> <span class="n">negatively</span> <span class="n">affect</span>
          <span class="n">performance</span><span class="p">,</span> <span class="k">as</span> <span class="n">additional</span> <span class="n">communication</span> <span class="n">may</span> <span class="n">be</span> <span class="n">necessary</span><span class="o">.</span>

<span class="n">SHMEM_COLL_OPT_OFF</span>
          <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">disables</span> <span class="n">collective</span> <span class="n">optimizations</span> <span class="n">that</span> <span class="n">use</span>
          <span class="n">architecture</span><span class="o">-</span><span class="n">specific</span> <span class="n">algorithms</span> <span class="k">for</span> <span class="n">some</span> <span class="n">SHMEM</span> <span class="n">collective</span>
          <span class="n">operations</span><span class="o">.</span> <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="nb">all</span> <span class="n">available</span> <span class="n">collective</span> <span class="n">optimized</span>
          <span class="n">algorithms</span> <span class="n">are</span> <span class="n">enabled</span><span class="o">.</span>

          <span class="n">To</span> <span class="n">disable</span> <span class="nb">all</span> <span class="n">collective</span> <span class="n">optimized</span> <span class="n">algorithms</span><span class="p">,</span> <span class="nb">set</span>
          <span class="n">SHMEM_COLL_OPT_OFF</span> <span class="n">to</span> <span class="mf">1.</span>

          <span class="n">To</span> <span class="n">disable</span> <span class="n">optimized</span> <span class="n">algorithms</span> <span class="k">for</span> <span class="n">selected</span> <span class="n">SHMEM</span>
          <span class="n">collectives</span><span class="p">,</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">value</span> <span class="n">to</span> <span class="n">a</span> <span class="n">comma</span><span class="o">-</span><span class="n">separated</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">the</span>
          <span class="n">desired</span> <span class="n">collective</span> <span class="n">names</span><span class="o">.</span> <span class="n">Names</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">case</span><span class="o">-</span><span class="n">sensitive</span><span class="o">.</span> <span class="n">Any</span>
          <span class="n">unrecognizable</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">flagged</span> <span class="k">with</span> <span class="n">a</span> <span class="n">warning</span> <span class="n">message</span> <span class="ow">and</span>
          <span class="n">ignored</span><span class="o">.</span>

          <span class="n">The</span> <span class="n">following</span> <span class="n">collective</span> <span class="n">names</span> <span class="n">are</span> <span class="n">recognized</span><span class="p">:</span>
          <span class="n">shmem_alltoall</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">shmem_alltoallv</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
          <span class="n">shmem_alltoallv_packed</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">shmem_and</span><span class="p">,</span> <span class="n">shmem_barrier</span><span class="p">,</span>
          <span class="n">shmem_barrier_all</span><span class="p">,</span> <span class="n">shmem_broadcast</span><span class="p">,</span> <span class="n">shmem_max</span><span class="p">,</span> <span class="n">shmem_min</span><span class="p">,</span>
          <span class="n">shmem_or</span><span class="p">,</span> <span class="n">shmem_prod</span><span class="p">,</span> <span class="n">shmem_sum</span><span class="p">,</span> <span class="ow">and</span> <span class="n">shmem_xor</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="nb">all</span> <span class="n">available</span> <span class="n">collective</span> <span class="n">optimized</span> <span class="n">algorithms</span> <span class="n">are</span>
          <span class="n">enabled</span>

<span class="n">SHMEM_MASSIVE_BCAST_CUTOFF</span>
          <span class="n">Controls</span> <span class="n">the</span> <span class="n">cutoff</span> <span class="n">size</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span> <span class="n">at</span> <span class="ow">or</span> <span class="n">above</span> <span class="n">which</span> <span class="n">the</span>
          <span class="n">optimized</span> <span class="n">broadcast</span> <span class="n">algorithm</span> <span class="k">for</span> <span class="n">very</span> <span class="n">large</span> <span class="n">monolithic</span> <span class="n">data</span>
          <span class="n">buffers</span> <span class="ow">is</span> <span class="n">enabled</span><span class="o">.</span> <span class="n">This</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">applicable</span>
          <span class="n">only</span> <span class="k">if</span> <span class="n">the</span> <span class="n">SHMEM_USE_OPT_MASSIVE_BCAST</span> <span class="n">environment</span> <span class="n">variable</span>
          <span class="ow">is</span> <span class="n">enabled</span><span class="o">.</span> <span class="n">The</span> <span class="n">value</span> <span class="nb">set</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span>
          <span class="n">interpreted</span> <span class="k">as</span> <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">number</span> <span class="ow">is</span>
          <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">char</span> <span class="n">that</span> <span class="n">acts</span> <span class="k">as</span> <span class="n">a</span> <span class="n">multiplier</span><span class="o">.</span> <span class="n">The</span> <span class="n">suffixes</span>
          <span class="n">K</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="ow">and</span> <span class="n">G</span> <span class="n">are</span> <span class="n">supported</span><span class="p">:</span> <span class="n">K</span> <span class="p">(</span><span class="n">kilobytes</span><span class="p">)</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">10</span>
          <span class="p">,</span> <span class="n">M</span> <span class="p">(</span><span class="n">megabytes</span><span class="p">)</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">20</span> <span class="p">,</span> <span class="ow">and</span> <span class="n">G</span> <span class="p">(</span><span class="n">gigabytes</span><span class="p">)</span>
          <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mf">30.</span> <span class="n">Valid</span> <span class="n">values</span> <span class="n">are</span> <span class="n">between</span> <span class="mi">0</span> <span class="ow">and</span>
          <span class="n">LONG_MAX</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">16777216</span> <span class="nb">bytes</span>

<span class="n">SHMEM_REDUCE_CUTOFF_SIZE</span>
          <span class="n">Controls</span> <span class="n">the</span> <span class="n">cutoff</span> <span class="n">size</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span> <span class="n">at</span> <span class="ow">or</span> <span class="n">above</span> <span class="n">which</span> <span class="n">the</span>
          <span class="n">optimized</span> <span class="n">reduction</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="n">collective</span>
          <span class="n">reduction</span> <span class="n">operation</span><span class="o">.</span> <span class="n">This</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">applicable</span>
          <span class="n">only</span> <span class="k">if</span> <span class="n">the</span> <span class="n">SHMEM_USE_LARGE_OPT_REDUCE</span> <span class="n">environment</span> <span class="n">variable</span>
          <span class="ow">is</span> <span class="n">enabled</span><span class="o">.</span>

          <span class="n">The</span> <span class="n">value</span> <span class="nb">set</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">interpreted</span> <span class="k">as</span>
          <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">number</span> <span class="ow">is</span> <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">char</span>
          <span class="n">that</span> <span class="n">acts</span> <span class="k">as</span> <span class="n">a</span> <span class="n">multiplier</span><span class="o">.</span> <span class="n">The</span> <span class="n">suffixes</span> <span class="n">K</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="ow">and</span> <span class="n">G</span> <span class="n">are</span>
          <span class="n">supported</span><span class="p">:</span> <span class="n">K</span> <span class="p">(</span><span class="n">kilobytes</span><span class="p">)</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">10</span><span class="p">,</span> <span class="n">M</span> <span class="p">(</span><span class="n">megabytes</span><span class="p">)</span>
          <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mi">20</span><span class="p">,</span> <span class="ow">and</span> <span class="n">G</span> <span class="p">(</span><span class="n">gigabytes</span><span class="p">)</span> <span class="n">multiplies</span> <span class="n">by</span> <span class="mi">2</span><span class="o">**</span><span class="mf">30.</span>
          <span class="n">Valid</span> <span class="n">values</span> <span class="n">are</span> <span class="n">between</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">LONG_MAX</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">16384</span> <span class="nb">bytes</span>

<span class="n">SHMEM_TEAM_FREE_ASSO_CHILD</span>
          <span class="n">This</span> <span class="n">variable</span> <span class="n">ensures</span> <span class="nb">all</span> <span class="n">active</span> <span class="n">associated</span> <span class="n">child</span> <span class="n">teams</span> <span class="n">are</span>
          <span class="n">destroyed</span> <span class="n">along</span> <span class="k">with</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">team</span> <span class="n">during</span> <span class="n">a</span>
          <span class="n">shmem_team_free</span> <span class="n">operation</span><span class="o">.</span> <span class="n">All</span> <span class="n">associated</span> <span class="n">team</span> <span class="n">resources</span>
          <span class="n">used</span> <span class="n">by</span> <span class="n">the</span> <span class="n">parent</span> <span class="ow">and</span> <span class="n">child</span> <span class="n">teams</span> <span class="n">are</span> <span class="n">freed</span><span class="o">.</span> <span class="n">Further</span>
          <span class="n">attempt</span> <span class="n">to</span> <span class="n">destroy</span> <span class="nb">any</span> <span class="n">child</span> <span class="n">teams</span> <span class="n">associated</span> <span class="k">with</span> <span class="n">this</span>
          <span class="n">parent</span> <span class="n">team</span> <span class="n">will</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">an</span> <span class="n">invalid</span> <span class="n">argument</span> <span class="n">error</span><span class="o">.</span> <span class="n">By</span>
          <span class="n">default</span><span class="p">,</span> <span class="n">only</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">team</span> <span class="ow">is</span> <span class="n">destroyed</span> <span class="n">during</span> <span class="n">a</span>
          <span class="n">shmem_team_free</span> <span class="n">operation</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span> <span class="p">(</span><span class="n">disabled</span><span class="p">)</span>

<span class="n">SHMEM_TEAM_SMP_REDUCE</span>
          <span class="n">An</span> <span class="n">optimized</span> <span class="n">shared</span> <span class="n">memory</span> <span class="n">based</span> <span class="n">reduction</span> <span class="n">algorithm</span> <span class="k">for</span>
          <span class="n">team</span><span class="o">-</span><span class="n">based</span> <span class="n">reduction</span> <span class="n">operations</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">0</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span>
          <span class="n">reduction</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="n">team</span><span class="o">-</span><span class="n">based</span> <span class="n">reduction</span>
          <span class="n">operation</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span><span class="p">,</span> <span class="n">the</span> <span class="n">shared</span> <span class="n">memory</span> <span class="n">based</span> <span class="n">optimized</span>
          <span class="n">reduction</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="n">team</span><span class="o">-</span><span class="n">based</span> <span class="n">reduction</span>
          <span class="n">operation</span><span class="o">.</span>

          <span class="n">Note</span><span class="p">:</span>  <span class="n">This</span> <span class="n">optimization</span> <span class="ow">is</span> <span class="n">applicable</span> <span class="n">only</span> <span class="k">for</span> <span class="n">team</span><span class="o">-</span><span class="n">based</span>
          <span class="n">reduction</span> <span class="ow">and</span> <span class="ow">not</span> <span class="k">for</span> <span class="n">active</span><span class="o">-</span><span class="nb">set</span> <span class="n">based</span> <span class="n">reduction</span> <span class="n">operations</span><span class="o">.</span>
          <span class="n">The</span> <span class="n">usage</span> <span class="n">of</span> <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">independent</span> <span class="n">of</span>
          <span class="n">SHMEM_COLL_OPT_OFF</span> <span class="n">usage</span><span class="o">.</span> <span class="n">This</span> <span class="n">optimization</span> <span class="ow">is</span> <span class="n">effective</span> <span class="n">on</span>
          <span class="n">teams</span> <span class="n">which</span> <span class="n">are</span> <span class="n">distributed</span> <span class="n">across</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">node</span> <span class="ow">and</span>
          <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">node</span> <span class="kn">from</span> <span class="nn">this</span> <span class="n">distribution</span> <span class="n">has</span> <span class="n">more</span> <span class="n">than</span>
          <span class="n">one</span><span class="o">-</span><span class="n">PE</span> <span class="n">per</span> <span class="n">node</span><span class="o">.</span> <span class="n">If</span> <span class="n">rank</span> <span class="n">reordering</span> <span class="ow">is</span> <span class="n">selected</span><span class="p">,</span> <span class="n">this</span>
          <span class="n">optimization</span> <span class="n">will</span> <span class="n">be</span> <span class="n">disabled</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span>

<span class="n">SHMEM_TEAMS_MEM_OPT_LEVEL</span>
          <span class="n">Specifies</span> <span class="n">the</span> <span class="n">level</span> <span class="n">of</span> <span class="n">memory</span> <span class="n">reduction</span> <span class="n">optimizations</span> <span class="n">that</span>
          <span class="n">can</span> <span class="n">be</span> <span class="n">performed</span> <span class="n">on</span> <span class="n">maintaining</span> <span class="n">SHMEM</span> <span class="n">team</span> <span class="n">members</span><span class="o">.</span>

          <span class="n">Accepted</span> <span class="n">Values</span><span class="p">:</span> <span class="mi">0</span><span class="p">:</span> <span class="n">No</span> <span class="n">memory</span> <span class="n">reduction</span> <span class="n">optimizations</span> <span class="n">are</span>
          <span class="n">performed</span> <span class="o">|</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">teams</span> <span class="n">crated</span><span class="p">,</span> <span class="n">team</span>
          <span class="n">members</span> <span class="n">are</span> <span class="n">maintained</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">tightly</span> <span class="n">packed</span> <span class="nb">list</span> <span class="n">to</span> <span class="n">avoid</span>
          <span class="n">memory</span> <span class="n">wastage</span> <span class="n">on</span> <span class="n">free</span> <span class="n">bits</span> <span class="ow">in</span> <span class="n">those</span> <span class="n">lists</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span>

<span class="n">SHMEM_USE_LARGE_OPT_REDUCE</span>
          <span class="n">An</span> <span class="n">optimized</span> <span class="n">reduction</span> <span class="n">algorithm</span> <span class="k">for</span> <span class="n">large</span> <span class="n">data</span> <span class="n">sizes</span><span class="o">.</span> <span class="n">If</span>
          <span class="nb">set</span> <span class="n">to</span> <span class="mi">0</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span> <span class="n">reduction</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">used</span> <span class="k">for</span> <span class="nb">all</span>
          <span class="n">data</span> <span class="n">sizes</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span><span class="p">,</span> <span class="n">an</span> <span class="n">optimized</span> <span class="n">reduction</span> <span class="n">algorithm</span>
          <span class="k">for</span> <span class="n">large</span> <span class="n">data</span> <span class="n">sizes</span> <span class="ow">is</span> <span class="n">used</span><span class="o">.</span> <span class="n">The</span> <span class="n">cutoff</span> <span class="k">for</span> <span class="n">the</span> <span class="n">data</span> <span class="n">size</span>
          <span class="ow">is</span> <span class="nb">set</span> <span class="n">using</span> <span class="n">SHMEM_REDUCE_CUTOFF_SIZE</span><span class="o">.</span> <span class="n">The</span> <span class="n">usage</span> <span class="n">of</span> <span class="n">this</span>
          <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">independent</span> <span class="n">of</span> <span class="n">SHMEM_COLL_OPT_OFF</span>
          <span class="n">usage</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span>

<span class="n">SHMEM_USE_OPT_MASSIVE_BCAST</span>
          <span class="n">An</span> <span class="n">optimized</span> <span class="n">broadcast</span> <span class="n">algorithm</span> <span class="k">for</span> <span class="n">very</span> <span class="n">large</span> <span class="n">monolithic</span>
          <span class="n">data</span> <span class="n">sizes</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">0</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span> <span class="n">broadcast</span> <span class="n">algorithm</span>
          <span class="n">selection</span> <span class="ow">is</span> <span class="n">done</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">data</span> <span class="n">sizes</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span><span class="p">,</span> <span class="n">an</span>
          <span class="n">optimized</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">used</span><span class="o">.</span> <span class="n">The</span> <span class="n">algorithm</span> <span class="n">enabled</span> <span class="n">by</span> <span class="n">this</span>
          <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">tuned</span> <span class="n">specifically</span> <span class="k">for</span> <span class="n">very</span> <span class="n">large</span>
          <span class="n">monolithic</span> <span class="n">data</span> <span class="n">sizes</span> <span class="n">of</span> <span class="mi">16</span><span class="n">MB</span> <span class="ow">and</span> <span class="n">above</span><span class="o">.</span> <span class="n">The</span> <span class="n">cutoff</span> <span class="n">data</span>
          <span class="n">size</span> <span class="ow">is</span> <span class="nb">set</span> <span class="n">using</span> <span class="n">SHMEM_MASSIVE_BCAST_CUTOFF</span><span class="o">.</span> <span class="n">The</span> <span class="n">usage</span> <span class="n">of</span>
          <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">independent</span> <span class="n">of</span> <span class="n">SHMEM_COLL_OPT_OFF</span>
          <span class="n">usage</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span>

<span class="n">SHMEM_USE_OPTIMIZED_VSMSG_BCAST</span>
          <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">this</span> <span class="n">variable</span> <span class="n">enables</span> <span class="n">the</span> <span class="n">use</span> <span class="n">of</span> <span class="n">an</span> <span class="n">optimized</span>
          <span class="n">shmem_broadcast</span> <span class="n">algorithm</span> <span class="k">for</span> <span class="n">small</span> <span class="n">messages</span> <span class="p">(</span><span class="o">&lt;=</span>
          <span class="p">(</span><span class="n">_SHMEM_BCAST_SYNC_SIZE</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">long</span><span class="p">))</span><span class="o">.</span> <span class="n">Setting</span> <span class="n">this</span>
          <span class="n">variable</span> <span class="n">invalidates</span> <span class="n">advice</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">shmem_broadcast</span> <span class="n">man</span> <span class="n">page</span>
          <span class="n">which</span> <span class="n">suggests</span> <span class="n">that</span> <span class="n">you</span> <span class="n">can</span> <span class="n">alternate</span> <span class="n">between</span> <span class="n">only</span> <span class="n">two</span> <span class="n">pSync</span>
          <span class="n">arrays</span> <span class="n">on</span> <span class="n">successive</span> <span class="n">calls</span> <span class="n">to</span> <span class="n">shmem_broadcast</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">the</span>
          <span class="n">user</span> <span class="n">must</span> <span class="n">use</span> <span class="n">some</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">synchronization</span> <span class="n">to</span> <span class="n">guarantee</span> <span class="n">that</span>
          <span class="n">the</span> <span class="n">pSync</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">longer</span> <span class="ow">in</span> <span class="n">use</span> <span class="n">by</span> <span class="n">a</span> <span class="n">previous</span> <span class="n">call</span> <span class="n">to</span>
          <span class="n">shmem_broadcast</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span> <span class="p">(</span><span class="ow">not</span> <span class="n">enabled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-multithreading-specific-environment-variables">
<h2>Cray OpenSHMEMX Multithreading Specific Environment Variables<a class="headerlink" href="#cray-openshmemx-multithreading-specific-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_THREAD_SAFETY</span>
          <span class="n">Environment</span> <span class="n">variable</span> <span class="n">to</span> <span class="n">display</span> <span class="n">the</span> <span class="n">OpenSHMEM</span> <span class="n">thread</span> <span class="n">safety</span> <span class="n">level</span>
          <span class="n">This</span> <span class="n">environment</span> <span class="n">variable</span> <span class="n">acts</span> <span class="k">as</span> <span class="n">output</span> <span class="n">to</span> <span class="n">retrieve</span> <span class="n">the</span>
          <span class="n">application</span> <span class="n">thread</span><span class="o">-</span><span class="n">safety</span> <span class="n">level</span> <span class="n">during</span> <span class="n">runtime</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-communication-context-environment-variables">
<h2>Cray OpenSHMEMX Communication Context Environment Variables<a class="headerlink" href="#cray-openshmemx-communication-context-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_MAX_CTX</span>
          <span class="n">Sets</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">contexts</span> <span class="n">required</span> <span class="n">per</span> <span class="n">process</span><span class="p">,</span> <span class="k">if</span>
          <span class="n">known</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">programmer</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">know</span> <span class="n">how</span> <span class="n">many</span> <span class="n">contexts</span> <span class="n">will</span> <span class="n">be</span>
          <span class="n">created</span><span class="p">,</span> <span class="n">the</span> <span class="n">environment</span> <span class="n">variable</span> <span class="n">should</span> <span class="ow">not</span> <span class="n">be</span> <span class="nb">set</span><span class="o">.</span> <span class="n">This</span>
          <span class="n">environment</span> <span class="n">variable</span> <span class="n">should</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">value</span> <span class="n">to</span> <span class="n">get</span>
          <span class="n">optimal</span> <span class="n">performance</span> <span class="kn">from</span> <span class="nn">both</span> <span class="n">the</span> <span class="n">single</span> <span class="ow">and</span> <span class="n">multithreaded</span>
          <span class="n">application</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span>
          <span class="n">Application</span> <span class="n">initialized</span> <span class="k">with</span> <span class="n">SHMEM_THREAD_SINGLE</span> <span class="o">-</span> <span class="mi">1</span>

          <span class="n">Application</span> <span class="n">initialized</span> <span class="k">with</span> <span class="n">SHMEM_THREAD_MULTIPLE</span> <span class="o">-</span> <span class="n">Dynamically</span>
          <span class="n">calculated</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">available</span> <span class="n">network</span> <span class="n">resource</span> <span class="n">available</span>
          <span class="n">per</span> <span class="n">PE</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">node</span><span class="o">.</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">available</span> <span class="n">network</span> <span class="n">resource</span> <span class="n">depends</span>
          <span class="n">on</span> <span class="n">the</span> <span class="n">total</span> <span class="n">number</span> <span class="n">of</span> <span class="n">PEs</span> <span class="n">per</span> <span class="n">node</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-smp-communication-layer-specific-environment-variables">
<h2>Cray OpenSHMEMX - SMP Communication Layer Specific Environment Variables<a class="headerlink" href="#cray-openshmemx-smp-communication-layer-specific-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_LOCALITY_ONNODE</span>
          <span class="n">Enables</span> <span class="ow">or</span> <span class="n">disable</span> <span class="n">on</span><span class="o">-</span><span class="n">node</span> <span class="n">SMP</span> <span class="n">copies</span> <span class="n">via</span> <span class="n">XPMEM</span><span class="o">.</span> <span class="n">This</span> <span class="n">variable</span>
          <span class="ow">is</span> <span class="n">enabled</span> <span class="n">by</span> <span class="n">default</span> <span class="k">if</span> <span class="n">there</span> <span class="n">are</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">PEs</span> <span class="n">per</span> <span class="n">node</span>
          <span class="ow">and</span> <span class="n">the</span> <span class="n">system</span> <span class="n">supports</span> <span class="n">XPMEM</span> <span class="n">transport</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span><span class="o">/</span><span class="mi">1</span> <span class="p">(</span><span class="n">enabled</span><span class="o">/</span><span class="n">disabled</span><span class="p">)</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">job</span> <span class="n">configuration</span>

<span class="n">SHMEM_LOCALITY_OFFNODE</span>
          <span class="n">Enables</span> <span class="ow">or</span> <span class="n">disables</span> <span class="n">using</span> <span class="n">off</span><span class="o">-</span><span class="n">node</span> <span class="n">network</span> <span class="n">data</span> <span class="n">transfers</span><span class="o">.</span> <span class="n">This</span>
          <span class="n">variable</span> <span class="ow">is</span> <span class="n">enabled</span> <span class="n">by</span> <span class="n">default</span><span class="p">,</span> <span class="k">if</span> <span class="n">the</span> <span class="n">PEs</span> <span class="n">span</span> <span class="n">across</span> <span class="n">multiple</span>
          <span class="n">nodes</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span><span class="o">/</span><span class="mi">1</span> <span class="p">(</span><span class="n">enabled</span><span class="o">/</span><span class="n">disabled</span><span class="p">)</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">job</span> <span class="n">configuration</span>

<span class="n">SHMEM_SMP_SIZE_LIMIT</span>
          <span class="n">Sets</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span> <span class="k">for</span> <span class="n">on</span><span class="o">-</span><span class="n">node</span> <span class="n">SMP</span> <span class="n">copies</span> <span class="n">via</span>
          <span class="n">XPMEM</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">zero</span><span class="p">,</span> <span class="n">on</span><span class="o">-</span><span class="n">node</span> <span class="n">copy</span> <span class="ow">is</span> <span class="n">disabled</span> <span class="ow">and</span> <span class="nb">all</span>
          <span class="n">traffic</span> <span class="ow">is</span> <span class="n">routed</span> <span class="n">through</span> <span class="n">the</span> <span class="n">OFI</span> <span class="n">network</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span>
          <span class="n">a</span> <span class="n">negative</span> <span class="n">value</span><span class="p">,</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">size</span> <span class="ow">is</span> <span class="n">unlimited</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">on</span><span class="o">-</span>
          <span class="n">node</span> <span class="n">traffic</span> <span class="ow">is</span> <span class="n">routed</span> <span class="n">through</span> <span class="n">XPMEM</span><span class="o">.</span> <span class="n">In</span> <span class="n">the</span> <span class="n">case</span> <span class="n">of</span> <span class="n">strided</span>
          <span class="n">puts</span> <span class="ow">and</span> <span class="n">gets</span><span class="p">,</span> <span class="n">the</span> <span class="n">size</span> <span class="n">limit</span> <span class="ow">is</span> <span class="n">compared</span> <span class="n">to</span> <span class="n">the</span> <span class="n">actual</span>
          <span class="n">number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="n">to</span> <span class="n">be</span> <span class="n">put</span> <span class="ow">or</span> <span class="n">gotten</span><span class="o">.</span> <span class="n">The</span> <span class="n">value</span> <span class="ow">is</span>
          <span class="n">interpreted</span> <span class="k">as</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">unless</span> <span class="n">the</span> <span class="n">string</span> <span class="n">ends</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">k</span> <span class="ow">or</span> <span class="n">K</span><span class="p">,</span>
          <span class="n">which</span> <span class="n">indicates</span> <span class="n">kilobytes</span><span class="p">,</span> <span class="ow">or</span> <span class="n">an</span> <span class="n">m</span> <span class="ow">or</span> <span class="n">M</span><span class="p">,</span> <span class="n">which</span> <span class="n">indicates</span>
          <span class="n">megabytes</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">(</span><span class="n">unlimited</span><span class="p">)</span>

<span class="n">SHMEM_USE_SMP</span>
          <span class="n">Support</span> <span class="k">for</span> <span class="n">this</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">discontinued</span><span class="o">.</span> <span class="n">Please</span>
          <span class="n">refer</span> <span class="n">to</span> <span class="n">SHMEM_LOCALITY_ONNODE</span> <span class="ow">and</span> <span class="n">SHMEM_LOCALITY_OFFNODE</span> <span class="n">to</span>
          <span class="n">achieve</span> <span class="n">similar</span> <span class="n">functionality</span><span class="o">.</span>

          <span class="n">Enables</span> <span class="ow">or</span> <span class="n">disable</span> <span class="n">on</span><span class="o">-</span><span class="n">node</span> <span class="n">SMP</span> <span class="n">copies</span> <span class="n">via</span> <span class="n">XPMEM</span><span class="o">.</span> <span class="n">If</span> <span class="n">disabled</span><span class="p">,</span>
          <span class="n">on</span><span class="o">-</span><span class="n">node</span> <span class="n">copy</span> <span class="ow">is</span> <span class="n">disabled</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">traffic</span> <span class="ow">is</span> <span class="n">routed</span> <span class="n">through</span> <span class="n">the</span>
          <span class="n">network</span><span class="o">.</span>

          <span class="n">Default</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">enabled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="cray-openshmemx-libfabric-transport-specific-environment-variables">
<h2>Cray OpenSHMEMX Libfabric Transport Specific Environment Variables<a class="headerlink" href="#cray-openshmemx-libfabric-transport-specific-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHMEM_OFI_FABRIC_DISPLAY</span>
           <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">detailed</span> <span class="n">fabric</span> <span class="n">information</span> <span class="k">for</span> <span class="n">the</span> <span class="n">selected</span> <span class="n">provider</span>
           <span class="n">will</span> <span class="n">be</span> <span class="n">displayed</span> <span class="n">during</span> <span class="n">shmem_init</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>

<span class="n">SHMEM_OFI_PROVIDER_DISPLAY</span>
           <span class="n">If</span> <span class="nb">set</span><span class="p">,</span> <span class="n">more</span> <span class="n">verbose</span> <span class="n">output</span> <span class="n">will</span> <span class="n">be</span> <span class="n">displayed</span> <span class="n">during</span> <span class="n">shmem_init</span>
           <span class="n">to</span> <span class="n">verify</span> <span class="n">which</span> <span class="n">libfabric</span> <span class="n">provider</span> <span class="n">has</span> <span class="n">been</span> <span class="n">selected</span><span class="p">,</span> <span class="n">along</span> <span class="k">with</span>
           <span class="n">the</span> <span class="n">name</span> <span class="ow">and</span> <span class="n">address</span> <span class="n">of</span> <span class="n">the</span> <span class="n">NIC</span> <span class="n">being</span> <span class="n">used</span><span class="o">.</span> <span class="n">This</span> <span class="n">may</span> <span class="n">be</span> <span class="n">helpful</span>
           <span class="k">for</span> <span class="n">debugging</span> <span class="n">errors</span> <span class="n">encountered</span> <span class="n">during</span> <span class="n">shmem_init</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>

<span class="n">SHMEM_OFI_USE_PROV_NAME</span>
           <span class="n">Specifies</span> <span class="n">the</span> <span class="n">libfabric</span> <span class="n">provider</span> <span class="n">to</span> <span class="n">use</span><span class="o">.</span>  <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="n">the</span>
           <span class="s2">&quot;verbs;ofi_rxm&quot;</span> <span class="n">provider</span> <span class="ow">is</span> <span class="n">selected</span> <span class="k">for</span> <span class="n">Slingshot</span><span class="o">-</span><span class="mi">10</span> <span class="n">systems</span><span class="p">,</span>
           <span class="n">since</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">supported</span> <span class="ow">and</span> <span class="n">optimized</span> <span class="n">provider</span><span class="o">.</span> <span class="n">For</span>
           <span class="n">debugging</span> <span class="n">purposes</span><span class="p">,</span> <span class="n">other</span> <span class="n">libfabric</span> <span class="n">providers</span> <span class="n">may</span> <span class="n">be</span> <span class="n">requested</span>
           <span class="n">by</span> <span class="n">setting</span> <span class="n">this</span> <span class="n">variable</span> <span class="n">to</span> <span class="n">the</span> <span class="n">desired</span> <span class="n">provider</span> <span class="n">name</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span>
           <span class="n">sockets</span><span class="p">)</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="s2">&quot;verbs;ofi_rxm&quot;</span> <span class="n">on</span> <span class="n">Slingshot</span><span class="o">-</span><span class="mi">10</span> <span class="n">systems</span>

<span class="n">SHMEM_OFI_USE_DOMAIN_NAME</span>
           <span class="n">Specifies</span> <span class="n">the</span> <span class="n">libfabric</span> <span class="n">domain</span> <span class="n">to</span> <span class="n">use</span><span class="o">.</span>  <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span>
           <span class="k">for</span> <span class="n">the</span> <span class="n">first</span> <span class="n">matching</span> <span class="n">provider</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">but</span> <span class="n">this</span> <span class="n">value</span> <span class="n">can</span>
           <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">select</span> <span class="n">an</span> <span class="n">alternative</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>

<span class="n">SHMEM_OFI_USE_FABRIC_NAME</span>
           <span class="n">Specifies</span> <span class="n">the</span> <span class="n">libfabric</span> <span class="n">fabric</span> <span class="n">to</span> <span class="n">use</span><span class="o">.</span>  <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="n">the</span> <span class="n">default</span>
           <span class="k">for</span> <span class="n">the</span> <span class="n">first</span> <span class="n">matching</span> <span class="n">provider</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">but</span> <span class="n">this</span> <span class="n">value</span> <span class="n">can</span>
           <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">select</span> <span class="n">an</span> <span class="n">alternative</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>

<span class="n">SHMEM_OFI_GLOBAL_EXIT</span>
           <span class="n">If</span> <span class="ow">not</span> <span class="nb">set</span> <span class="ow">or</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span><span class="p">,</span> <span class="n">enables</span> <span class="n">the</span> <span class="n">OpenSHMEM</span> <span class="n">API</span> <span class="n">Version</span> <span class="mf">1.2</span>
           <span class="n">routine</span> <span class="n">shmem_global_exit</span><span class="p">()</span><span class="o">.</span> <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">0</span><span class="p">,</span> <span class="n">shmem_global_exit</span><span class="p">()</span> <span class="ow">is</span>
           <span class="n">disabled</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">call</span> <span class="n">to</span> <span class="n">shmem_global_exit</span><span class="p">()</span> <span class="n">behaves</span> <span class="k">as</span> <span class="n">a</span> <span class="n">call</span> <span class="n">to</span>
           <span class="n">exit</span><span class="p">()</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="n">enabled</span>

<span class="n">SHMEM_OFI_STARTUP_CONNECT</span>

           <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="n">OFI</span> <span class="n">connections</span> <span class="n">between</span> <span class="n">ranks</span> <span class="n">are</span> <span class="nb">set</span> <span class="n">up</span> <span class="n">on</span> <span class="n">demand</span><span class="o">.</span>
           <span class="n">This</span> <span class="n">allows</span> <span class="k">for</span> <span class="n">optimal</span> <span class="n">performance</span> <span class="k">while</span> <span class="n">minimizing</span> <span class="n">memory</span>
           <span class="n">requirements</span><span class="o">.</span>  <span class="n">However</span><span class="p">,</span> <span class="k">for</span> <span class="n">jobs</span> <span class="n">requiring</span> <span class="n">an</span> <span class="nb">all</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="nb">all</span>
           <span class="n">communication</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">it</span> <span class="n">may</span> <span class="n">be</span> <span class="n">beneficial</span> <span class="n">to</span>
           <span class="n">create</span> <span class="nb">all</span> <span class="n">OFI</span> <span class="n">connections</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">coordinated</span> <span class="n">manner</span> <span class="n">at</span> <span class="n">startup</span><span class="o">.</span>
           <span class="n">If</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Cray</span> <span class="n">OpenSHMEMX</span> <span class="n">will</span> <span class="n">create</span> <span class="n">connections</span> <span class="n">between</span> <span class="nb">all</span>
           <span class="n">ranks</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">job</span> <span class="n">during</span> <span class="n">shmem_init</span><span class="p">()</span> <span class="ow">or</span> <span class="n">shmem_thread_init</span><span class="p">()</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="mi">0</span>

<span class="n">FI_OFI_RXM_USE_SRX</span>

           <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">verbs</span><span class="p">;</span><span class="n">ofi_rxm</span> <span class="n">libfabric</span> <span class="n">ENV</span> <span class="n">variable</span><span class="o">.</span>  <span class="n">Set</span> <span class="n">this</span> <span class="n">to</span> <span class="mi">1</span>
           <span class="n">to</span> <span class="n">instruct</span> <span class="n">the</span> <span class="n">provider</span> <span class="n">to</span> <span class="n">use</span> <span class="n">shared</span> <span class="n">receive</span> <span class="n">queues</span><span class="o">.</span>  <span class="n">Using</span>
           <span class="n">shared</span> <span class="n">receive</span> <span class="n">queues</span> <span class="n">can</span> <span class="n">reduce</span> <span class="n">the</span> <span class="n">overall</span> <span class="n">memory</span> <span class="n">usage</span>
           <span class="n">significantly</span><span class="p">,</span> <span class="n">but</span> <span class="n">may</span> <span class="n">cause</span> <span class="n">latency</span> <span class="n">to</span> <span class="n">increase</span> <span class="n">slightly</span><span class="o">.</span>
           <span class="n">Setting</span> <span class="n">this</span> <span class="n">to</span> <span class="mi">1</span> <span class="ow">is</span> <span class="n">highly</span> <span class="n">recommended</span> <span class="n">when</span> <span class="n">running</span> <span class="n">jobs</span> <span class="k">with</span>
           <span class="nb">all</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="nb">all</span> <span class="n">communication</span> <span class="n">patterns</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="n">For</span> <span class="n">jobs</span> <span class="n">sizes</span> <span class="n">of</span> <span class="o">&lt;</span> <span class="mi">64</span> <span class="n">ranks</span><span class="p">,</span> <span class="n">default</span> <span class="ow">is</span> <span class="mi">0</span>
                    <span class="n">For</span> <span class="n">job</span> <span class="n">sizes</span> <span class="n">of</span> <span class="mi">64</span> <span class="n">ranks</span> <span class="ow">or</span> <span class="n">larger</span><span class="p">,</span> <span class="n">default</span> <span class="ow">is</span> <span class="mi">1</span>

<span class="n">FI_VERBS_PREFER_XRC</span>

           <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">verbs</span><span class="p">;</span><span class="n">ofi_rxm</span> <span class="n">libfabric</span> <span class="n">ENV</span> <span class="n">variable</span><span class="o">.</span>  <span class="n">Set</span> <span class="n">this</span> <span class="n">to</span> <span class="mi">1</span>
           <span class="n">to</span> <span class="n">request</span> <span class="n">use</span> <span class="n">of</span> <span class="n">the</span> <span class="n">XRC</span> <span class="p">(</span><span class="n">eXtended</span> <span class="n">Reliable</span> <span class="n">Connection</span><span class="p">)</span>
           <span class="n">protocol</span><span class="o">.</span>  <span class="n">Note</span> <span class="n">FI_OFI_RXM_USE_SRX</span> <span class="n">must</span> <span class="n">also</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">when</span>
           <span class="n">requesting</span> <span class="n">XRC</span><span class="o">.</span>  <span class="n">Using</span> <span class="n">the</span> <span class="n">XRC</span> <span class="n">protocol</span> <span class="n">reduces</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span>
           <span class="n">connections</span><span class="p">,</span> <span class="n">hardware</span> <span class="n">resources</span><span class="p">,</span> <span class="ow">and</span> <span class="n">memory</span> <span class="n">footprint</span> <span class="k">for</span> <span class="n">large</span>
           <span class="n">scaling</span> <span class="n">jobs</span> <span class="n">that</span> <span class="n">require</span> <span class="n">a</span> <span class="n">demanding</span> <span class="n">communication</span> <span class="n">pattern</span><span class="o">.</span>
           <span class="n">This</span> <span class="n">environment</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">required</span> <span class="n">when</span> <span class="n">scaling</span> <span class="n">jobs</span> <span class="k">with</span> <span class="n">an</span>
           <span class="nb">all</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="nb">all</span> <span class="n">communication</span> <span class="n">pattern</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="n">For</span> <span class="n">jobs</span> <span class="n">sizes</span> <span class="n">of</span> <span class="o">&lt;</span> <span class="mi">64</span> <span class="n">ranks</span><span class="p">,</span> <span class="n">default</span> <span class="ow">is</span> <span class="mi">0</span>
                    <span class="n">For</span> <span class="n">job</span> <span class="n">sizes</span> <span class="n">of</span> <span class="mi">64</span> <span class="n">ranks</span> <span class="ow">or</span> <span class="n">larger</span><span class="p">,</span> <span class="n">default</span> <span class="ow">is</span> <span class="mi">1</span>

<span class="n">FI_VERBS_MIN_RNR_TIMER</span>

           <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">verbs</span><span class="p">;</span><span class="n">ofi_rxm</span> <span class="n">libfabric</span> <span class="n">ENV</span> <span class="n">variable</span><span class="o">.</span> <span class="n">This</span> <span class="n">sets</span> <span class="n">the</span>
           <span class="n">minimum</span> <span class="n">backoff</span> <span class="n">time</span> <span class="n">used</span> <span class="n">when</span> <span class="n">the</span> <span class="n">Mellanox</span> <span class="n">NICs</span> <span class="n">experience</span>
           <span class="n">congestion</span><span class="o">.</span>  <span class="n">Allowable</span> <span class="n">values</span> <span class="n">are</span> <span class="mi">0</span><span class="o">-</span><span class="mi">31</span><span class="p">,</span> <span class="k">with</span> <span class="n">higher</span> <span class="n">values</span>
           <span class="n">corresponding</span> <span class="n">to</span> <span class="n">longer</span> <span class="n">backoffs</span><span class="o">.</span>  <span class="n">Setting</span> <span class="n">this</span> <span class="n">to</span> <span class="mi">0</span> <span class="ow">is</span> <span class="ow">not</span>
           <span class="n">recommended</span><span class="p">,</span> <span class="n">however</span><span class="p">,</span> <span class="k">as</span> <span class="n">that</span> <span class="n">translates</span> <span class="n">into</span> <span class="n">a</span> <span class="n">very</span> <span class="n">large</span>
           <span class="n">backoff</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">adversely</span> <span class="n">affect</span> <span class="n">performance</span><span class="o">.</span> <span class="n">Optimal</span> <span class="n">value</span> <span class="k">for</span>
           <span class="n">Slingshot</span><span class="o">-</span><span class="mi">10</span> <span class="n">systems</span> <span class="n">are</span> <span class="n">likely</span> <span class="n">between</span> <span class="mi">3</span> <span class="ow">and</span> <span class="mf">6.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="mi">6</span>

<span class="n">FI_MR_CACHE_MAX_COUNT</span>
           <span class="n">This</span> <span class="n">defines</span> <span class="n">the</span> <span class="n">total</span> <span class="n">number</span> <span class="n">of</span> <span class="n">memory</span> <span class="n">regions</span> <span class="n">that</span> <span class="n">may</span> <span class="n">be</span>
           <span class="n">registered</span> <span class="k">with</span> <span class="n">the</span> <span class="n">cache</span><span class="o">.</span> <span class="n">If</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">,</span> <span class="n">a</span> <span class="n">default</span> <span class="n">limit</span> <span class="ow">is</span> <span class="n">chosen</span><span class="o">.</span>
           <span class="n">Setting</span> <span class="n">this</span> <span class="n">will</span> <span class="n">reduce</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">regions</span> <span class="n">that</span> <span class="n">are</span>
           <span class="n">registered</span><span class="p">,</span> <span class="n">regardless</span> <span class="n">of</span> <span class="n">their</span> <span class="n">size</span><span class="p">,</span> <span class="n">which</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">actively</span>
           <span class="n">being</span> <span class="n">used</span> <span class="k">as</span> <span class="n">part</span> <span class="n">of</span> <span class="n">a</span> <span class="n">data</span> <span class="n">transfer</span><span class="o">.</span> <span class="n">Setting</span> <span class="n">this</span>
           <span class="n">to</span> <span class="n">zero</span> <span class="n">will</span> <span class="n">disable</span> <span class="n">registration</span> <span class="n">caching</span><span class="o">.</span>

           <span class="n">Default</span><span class="p">:</span> <span class="ow">not</span> <span class="nb">set</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tuning_parameters.html" class="btn btn-neutral float-right" title="Tuning Parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Cray OpenSHMEMX" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, HPE

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>